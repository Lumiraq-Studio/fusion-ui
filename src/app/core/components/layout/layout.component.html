<div class="flex relative">
    <div class="fixed inset-y-0 left-0 z-10">
        <app-sidebar (collapsedChange)="onSidebarCollapsed($event)"></app-sidebar>
    </div>
    <main class="flex-1 transition-all duration-300"
          [ngStyle]="{'margin-left': sidebarCollapsed ? '4rem' : '16rem'}">
        <div class="app-container">
            <main class="main-content" role="main">
                <router-outlet></router-outlet>
            </main>
        </div>
        <div class="container-custom py-6">
            @if (loadingService.isLoading()) {
                <app-dot-animation [isLoading]="isLoading()"></app-dot-animation>
            }
            <div class="fixed top-6 z-50 w-full max-w-sm sm:right-40 flex flex-col gap-4">
                @for (notification of notifications(); track notification.id) {
                    <app-notification-alert
                            [type]="notification.type"
                            [message]="notification.message"
                            [isLeaving]="notification.isLeaving"
                            (close)="notificationService.startLeaveAnimation(notification.id)"
                            class="transform transition-all duration-500 ease-in-out">
                    </app-notification-alert>
                }
            </div>
        </div>
    </main>
</div>